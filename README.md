
# Testovoe_Lerua

Мое решение тестового задания в Леруа Мерлен

## Описание

Этот репозиторий содержит решение тестового задания, включающее различные задачи, связанные с базами данных и API. Ниже приведены описания задач и соответствующих решений.

### Задание 1

1. **SQL запрос, который выведет экспедитора, который выполняет доставку в наибольшее число зон доставки:**

```sql
SELECT c.carrier_name, COUNT(dz.delivery_zone_id) AS zone_count
FROM carrier c
JOIN delivery_zone dz ON c.carrier_id = dz.carrier_id
GROUP BY c.carrier_name
ORDER BY zone_count DESC
LIMIT 1;
```

2. **Тип атрибута для `zone_definition` для отображения области зоны доставки в сервисах навигации:**

- Тип атрибута можно определить как `TEXT` или `GEOMETRY` в зависимости от используемой СУБД и требуемой функциональности. Если нужно хранить геометрическую информацию (например, координаты многоугольника зоны доставки), то лучше использовать тип `GEOMETRY`.

3. **Предложения по изменению схемы для приведения к третьей нормальной форме:**

- Создать отдельную таблицу для магазинов (`store`) с полями `store_id` и `store_name`.
- Создать отдельную таблицу для зон (`zone`) с полями `zone_id`, `zone_num` и `zone_definition`.
- Объединить `delivery_zone` и `carrier` через таблицу связей, если одна зона может обслуживаться несколькими экспедиторами.

4. **Изменения в схеме, если на одну и ту же зону доставки может быть несколько экспедиторов:**

```sql
CREATE TABLE delivery_zone_carrier (
    delivery_zone_id INT,
    carrier_id INT,
    PRIMARY KEY (delivery_zone_id, carrier_id),
    FOREIGN KEY (delivery_zone_id) REFERENCES delivery_zone(delivery_zone_id),
    FOREIGN KEY (carrier_id) REFERENCES carrier(carrier_id)
);
```

5. **Модифицированный SQL запрос для п. a с учетом изменений:**

```sql
SELECT c.carrier_name, COUNT(dzc.delivery_zone_id) AS zone_count
FROM carrier c
JOIN delivery_zone_carrier dzc ON c.carrier_id = dzc.carrier_id
GROUP BY c.carrier_name
ORDER BY zone_count DESC
LIMIT 1;
```

### Задание 3

В крупной организации есть проблема с поддержанием документации в актуальном состоянии. Состав команды часто меняется, многие авторы страниц базы знаний уже давно не работают в организации. Из-за этого страдает скорость разработки в компании в целом. 

Предложены следующие пункты для решения данной проблемы:

1. **Введение системы ответственных за документацию:**
   - Назначить ответственных за каждую ключевую часть документации. Эти ответственные лица будут следить за актуализацией информации и проверять изменения, вносимые другими сотрудниками.
   - Создать список всех разделов документации и назначить за каждый раздел ответственного. Ввести регулярные проверки и отчеты о состоянии документации.

2. **Создание системы регулярных обзоров и обновлений:**
   - Внедрить регулярные обзоры и обновления документации, чтобы она всегда оставалась актуальной.
   - Установить график ежемесячных или ежеквартальных обзоров документации. Назначить команды или отдельных сотрудников для проверки и обновления информации. Ввести систему уведомлений для ответственных лиц о необходимости проверки документации.

3. **Обучение и мотивация сотрудников:**
   - Организовать обучение для сотрудников по ведению и актуализации документации, а также внедрить систему поощрений за качественное выполнение этих задач.
   - Проводить регулярные тренинги и семинары по лучшим практикам ведения документации. Внедрить мотивационную систему (например, бонусы или признание на уровне компании) для тех, кто активно участвует в поддержании актуальности базы знаний.

## Скрипт для получения данных о температуре

Скрипт `testovoe.py` включает в себя функционал для получения данных о температуре с сервиса API, а также пример его использования.

Пример вызова API:

```python
import requests as r
import json
import datetime as dt
from pprint import pprint

def main():
    url = 'https://api.data.gov.sg/v1/environment/air-temperature'
    response = r.get(url)
    pprint(response.json())
    with open(f'temperature_at_{dt.datetime.now().strftime("%Y-%m-%d_%H:%M:%s")}.json', 'w') as f:
        json.dump(response.json(), f)

if __name__ == '__main__':
    main()
```

## Установка и запуск

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/ulik42/testovoe_Lerua.git
   ```
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Запустите скрипт:
   ```bash
   python testovoe.py
   ```
